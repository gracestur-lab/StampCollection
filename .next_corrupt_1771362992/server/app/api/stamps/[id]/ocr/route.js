"use strict";(()=>{var e={};e.id=214,e.ids=[214],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1722:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{POST:()=>d,runtime:()=>u});var a=r(9303),o=r(8716),i=r(670),n=r(7070),p=r(3493);let u="nodejs";async function d(e,{params:t}){let r=Number(t.id);if(!Number.isInteger(r))return n.NextResponse.json({error:"Invalid stamp id"},{status:400});if(!await p._.stamp.findUnique({where:{id:r}}))return n.NextResponse.json({error:"Stamp not found"},{status:404});let s=await p._.ocrJob.create({data:{stampId:r,status:"PENDING"}});return n.NextResponse.json({ok:!0,jobId:s.id})}let l=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/stamps/[id]/ocr/route",pathname:"/api/stamps/[id]/ocr",filename:"route",bundlePath:"app/api/stamps/[id]/ocr/route"},resolvedPagePath:"/Users/chloeclarke/Desktop/Stamp Collection/app/api/stamps/[id]/ocr/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:x}=l,h="/api/stamps/[id]/ocr/route";function g(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}},3493:(e,t,r)=>{r.d(t,{_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma??new s.PrismaClient({log:["error","warn"]})}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,972],()=>r(1722));module.exports=s})();